# Story 10.4: Enhanced Auth Service - Remember Me

**Story ID**: 10.4
**Epic**: 10 - Authentication & Authorization Enhancement  
**Status**: Ready for Development
**Priority**: P1 (High)
**Effort**: 5 Story Points

## Story
**As a** backend developer
**I want** to add "remember me" functionality
**So that** users can stay logged in for 30 days instead of 7

## Acceptance Criteria
1. Update login method: `login(email, password, rememberMe = false)`
2. When rememberMe = true, refresh token expires in 30 days
3. When rememberMe = false, refresh token expires in 7 days
4. Update storeRefreshToken to save remember_me boolean
5. POST /api/auth/login accepts rememberMe in request body
6. Unit tests cover both remember me scenarios

## Tasks
- [ ] Update authService.login method signature
- [ ] Modify generateTokens to accept rememberMe parameter
- [ ] Update storeRefreshToken to save remember_me column
- [ ] Set appropriate expiry (30d vs 7d) based on rememberMe
- [ ] Update auth routes to accept rememberMe in request body
- [ ] Write unit tests for both scenarios
- [ ] Test token expiry durations

## Testing
- [ ] Login with rememberMe=true creates 30-day refresh token
- [ ] Login with rememberMe=false creates 7-day refresh token
- [ ] Refresh token record includes correct remember_me value
- [ ] Token refresh respects original remember_me setting

## Definition of Done
- Login with rememberMe=true creates 30-day token
- All tests passing
- Documentation updated

## Agent Model Used
[To be filled by dev agent]

## Dev Agent Record

### File List
- `apps/api/src/services/authService.ts`
- `apps/api/src/routes/auth.ts`

### Change Log
[To be filled during implementation]
